# N-gram Filtering and Analysis Application

## Описание проекта
Интерактивное веб-приложение на Streamlit для фильтрации и анализа синтаксических n-грамм из базы данных PostgreSQL. Позволяет пользователям динамически конструировать сложные запросы для выявления лингвистических шаблонов.

## Основные возможности
- Динамическая фильтрация n-грамм по длине и лингвистическим признакам (токен, лемма, часть речи, тег, синтаксическая зависимость, морфология).
- Сохранение и загрузка наборов фильтров и шаблонов блоков для повторного использования.
- Просмотр сгенерированных SQL-запросов.
- Частотный анализ слов по позициям в отфильтрованных фразах.
- Модульная архитектура для легкого расширения и поддержки.

## Начало работы

### Предварительные требования
- Python 3.8+
- PostgreSQL (с установленной базой данных `ngrams_2_0` и необходимой схемой)

### Установка
1.  Клонируйте репозиторий:
    ```bash
    git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ>
    cd patterns_filtration
    ```
2.  Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

### Настройка базы данных
1.  Убедитесь, что у вас есть база данных PostgreSQL с именем `ngrams_2_0` и таблицами `ngrams`, `saved_filters`, `saved_blocks` (структура описана в `app_documentation.md`).
2.  Создайте файл `.env` в корневой директории проекта (`patterns_filtration/`) со следующими данными для подключения к БД:
    ```
    DB_HOST=localhost
    DB_NAME=ngrams_2_0
    DB_USER=postgres
    DB_PASSWORD=ВАШ_ПАРОЛЬ
    ```
    **Важно:** Файл `.env` добавлен в `.gitignore` и не будет загружен в репозиторий.

### Запуск приложения
1.  Перейдите в корневую директорию проекта:
    ```bash
    cd patterns_filtration
    ```
2.  Запустите приложение с помощью BAT-файла (для Windows):
    ```bash
    run_app.bat
    ```
    Или вручную:
    ```bash
    cd ngrams_app
    streamlit run Home.py
    ```
    Приложение откроется в вашем веб-браузере.

## Структура проекта
Проект организован модульно для удобства разработки и масштабирования:
-   `ngrams_app/`: Основная директория приложения.
    -   `pages/`: Содержит отдельные страницы Streamlit приложения.
    -   `core/`: Модули с основной логикой (работа с БД, аутентификация и т.д.).
    -   `.env`: Файл для хранения переменных окружения (секретов).
    -   `Home.py`: Главная страница приложения.
-   `requirements.txt`: Список Python-зависимостей.
-   `app_documentation.md`: Подробная документация по приложению.
-   `update_freq_mln.py`: Скрипт для обновления частотностей в БД.

## Использование
После запуска приложения вы можете:
1.  Выбрать страницу "Фильтрация фраз" в боковом меню.
2.  Указать желаемую длину фраз.
3.  Добавить блоки фильтров, настроить позиции и правила для каждого слова.
4.  Применить фильтры и просмотреть результаты.
5.  Использовать функции сохранения/загрузки наборов фильтров и шаблонов блоков.

## Дальнейшее развитие
-   Реализация системы авторизации с различными уровнями доступа (админ, модератор).
-   Добавление новых страниц и функционала.
-   Развертывание на Streamlit Cloud.

## Лицензия
[Укажите вашу лицензию, например, MIT License]

## Контакты
[Ваши контактные данные или ссылка на профиль GitHub]

# ngrams_filtration

